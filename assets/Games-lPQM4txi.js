import{j as t,r as d}from"./index-DdvQ3GE9.js";import{S as v,T as p}from"./Text-yZsYzdAp.js";const j=({children:e})=>t.jsx("div",{className:"flex flex-col items-center justify-center p-8",children:e}),y=({title:e})=>t.jsx("div",{className:"font-bold text-2xl text-gray-900 dark:text-slate-100",children:e}),k=({onClick:e})=>t.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 text-base bg-blue-600 dark:bg-blue-500 text-white border-none rounded cursor-pointer hover:bg-blue-700 dark:hover:bg-blue-600 hover:scale-110 transition-all duration-200",children:"Reset"}),w=({value:e,onClick:s,isWinningSquare:n})=>t.jsx("button",{onClick:s,className:`w-24 h-24 text-2xl flex items-center justify-center border-2 font-bold transition-all duration-200 ${n?"bg-green-200 dark:bg-green-700 border-green-400 dark:border-green-500 text-green-800 dark:text-green-100":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-500 text-gray-900 dark:text-slate-100 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:e}),N=({squares:e,onClick:s,winningSquares:n})=>t.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:e.map((a,l)=>t.jsx(w,{value:a,onClick:()=>s(l),isWinningSquare:n.includes(l)},l))}),C=()=>{const[e,s]=d.useState(Array(9).fill(null)),[n,a]=d.useState(!0),[l,u]=d.useState([]),g=c=>{if(b(e)||e[c])return;const x=e.slice();x[c]=n?"X":"O",s(x),a(!n);const f=b(x);f&&u(f.line)},m=()=>{s(Array(9).fill(null)),a(!0),u([])},r=b(e),o=r?r.player:null;let i;return o?i="Winner: "+o:i="Next player: "+(n?"X":"O"),t.jsxs(j,{children:[t.jsx(y,{title:"Tic Tac Toe"}),t.jsx("div",{className:"mb-4 text-2xl font-semibold text-gray-800 dark:text-slate-200",children:i}),t.jsx(N,{squares:e,onClick:g,winningSquares:l}),t.jsx(k,{onClick:m})]})},b=e=>{const s=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let n=0;n<s.length;n++){const[a,l,u]=s[n];if(e[a]&&e[a]===e[l]&&e[a]===e[u])return{player:e[a],line:[a,l,u]}}return null},R=()=>{const[e,s]=d.useState(h()),n=d.useRef(null),a=d.useRef(null),l=d.useRef(!1),u=M(e);d.useEffect(()=>{if(n.current!==null&&a.current!==null){l.current=!0;const r=n.current,o=a.current;if(e[r].pairId===e[o].pairId){s(i=>i.map(c=>c.pairId===e[r].pairId?{...c,isMatched:!0}:c)),n.current=null,a.current=null,l.current=!1;return}setTimeout(()=>{s(i=>i.map((c,x)=>x===r||x===o?{...c,isFlipped:!1}:c)),n.current=null,a.current=null,l.current=!1},500)}},[e]);const g=r=>{l.current||e[r].isFlipped||e[r].isMatched||(n.current===null?(s(o=>o.map((i,c)=>c===r?{...i,isFlipped:!0}:i)),n.current=r):a.current===null&&(s(o=>o.map((i,c)=>c===r?{...i,isFlipped:!0}:i)),a.current=r))},m=()=>{s(h()),n.current=null,a.current=null};return t.jsxs(j,{children:[t.jsx(y,{title:"Memory"}),t.jsx("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(100px,1fr))] gap-2.5 my-5 mx-auto justify-center w-[calc(100vw-40px)] max-w-3xl",children:e.map((r,o)=>t.jsx("button",{onClick:()=>g(o),disabled:l.current||r.isMatched,className:`w-24 h-24 text-2xl border-2 transition-all duration-200 ${u?"bg-green-500 dark:bg-green-600 border-green-600 dark:border-green-500 text-white":r.isFlipped||r.isMatched?"bg-gray-100 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-900 dark:text-slate-100":"bg-white dark:bg-slate-800 border-gray-400 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-700"} ${r.isMatched?"cursor-default":"cursor-pointer"} disabled:cursor-not-allowed`,children:r.isFlipped||r.isMatched?r.pairId:""},o))}),t.jsx(k,{onClick:m})]})},h=()=>Array(12).fill(null).map((e,s)=>({id:s,pairId:Math.floor(s/2),isFlipped:!1,isMatched:!1})).sort(()=>Math.random()-.5),M=e=>e.every(s=>s.isMatched),F=()=>t.jsx("main",{className:"flex flex-col items-center justify-center pt-10",id:"games",children:t.jsx(v,{id:"games-section",variant:"secondary",children:t.jsxs("div",{className:"w-full max-w-6xl px-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx(p,{variant:"heading",className:"text-text-primary mb-4",children:"Mini Games for fun"}),t.jsx(p,{variant:"body",className:"text-text-secondary",children:"Built with React and TypeScript"})]}),t.jsx(C,{}),t.jsx(R,{})]})})});export{F as Games};
